# Set shell
set -g default-shell /usr/bin/bash
set -g default-command /usr/bin/bash
set -g default-terminal "tmux-256color"

# Set catpuccin
set -g @catppuccin_flavour "mocha"
set -g @catppuccin_window_status_style "rounded"

run ~/.config/tmux/plugins/catppuccin/tmux/catppuccin.tmux

# Set prefix (Ctrl+a)
unbind C-b
set-option -g prefix C-Space
bind-key C-Space send-prefix

# Set theming, appearance and design
set -g visual-bell off
set -g bell-action none

# Set status bar
set -g status-right-length 100
set -g status-left-length 100
set -g status-left ""
set -g status-left '#{prefix_highlight}'
set -g status-right "#{E:@catppuccin_status_application}"
set -agF status-right "#{E:@catppuccin_status_cpu}"
set -ag status-right "#{E:@catppuccin_status_session}"

run ~/.config/tmux/plugins/tmux-cpu/cpu.tmux
run-shell ~/.config/tmux/plugins/tmux-prefix-highlight/prefix_highlight.tmux

# Set vi keys and mouse selection
set -g mouse on
setw -g mode-keys vi

# Set tmux config reload
bind r source-file ~/.tmux.conf

# Pane switching
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Window switching
bind -n M-n next-window
bind -n M-b previous-window
bind -n M-w choose-window

# Exit pane & section
bind -n M-q kill-pane
bind -n M-e kill-window
bind -n M-d kill-session

# Open new window
bind -n M-c new-window

# Create horizontal-split and vertical-split
bind -n M-a split-window -h
bind -n M-s split-window -v

# Tmux resurrect
run-shell ~/.config/tmux/plugins/tmux-resurrect/resurrect.tmux
set -g @resurrect-strategy-nvim 'session'
set -g @resurrect-processes 'btop spotify_player cava neo-matrix momoisay'

